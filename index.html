<!DOCTYPE html>
<html lang="en">
<head>
    <title>Never Ending GAF</title>
    <meta charset="utf-8">
    <meta name="description" content="The Never Ending GAF">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="Author" content="DiNitride">
    <link type="text/plain" rel="author" href="http://domain/humans.txt" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="http://www.w3schools.com/lib/w3data.js"></script>
    <link rel="stylesheet" href="css/main.css">
    <link rel="icon" href="graphics/favicon.ico" type="image/x-icon" />
    
</head>
<body>
    <div class="jumbotron">
        <img src="graphics/logos/gaf-logo.jpg" class="img-circle" alt="GAF Logo" width="150" height="150">
        <h1 id="gaf" align="center">The Never Ending GAF</h1>
    </div>
    <div class="container" id="maincontent">
        <div class="row">
            <div class="col-md-2">
            </div>
            <div class="col-md-8">
                <div class="btn-group btn-group-justified hidden-xs">
                    <a href="http://discord.neverendinggaf.com" class="btn btn-default">Discord</a>
                    <a href="http://steamcommunity.com/groups/TheNeverEndingGAF" class="btn btn-default">Steam</a>
                    <a href="http://steamcommunity.com/groups/publicgaf" class="btn btn-default">Public Steam</a>
                    <a href="ts3server://ts.neverendinggaf.com" class="btn btn-default">Backup Teamspeak</a>
                </div>
                <button type="button" data-toggle="collapse" data-target="#links" class="btn btn-default btn-block visible-xs">Links</button>
                
                <div id="links" class="collapse">
                    <div class="btn-group-vertical" style="width: 100%">
                        <a href="http://discord.neverendinggaf.com" class="btn btn-default btn-block">Discord</a>
                        <a href="http://steamcommunity.com/groups/TheNeverEndingGAF" class="btn btn-default">Steam</a>
                        <a href="http://steamcommunity.com/groups/publicgaf" class="btn btn-default">Public Steam</a>
                        <a href="ts3server://ts.neverendinggaf.com" class="btn btn-default">Backup Teamspeak</a>
                    </div>
                </div>
                <br>
                <p><b>Idiots Online: <span class="badge" id="memberCount"></span></b><br><b>Connected to Voice Chat: <span class="badge" id="voiceCount"></span></b></p>
                <p>
                    The Never Ending GAF is a small group of idiots that play games and insult each other. We reside on our Discord server, usually in the beloved cesspool intelligently titled "Channel 1". Feel free to pop by, probably get told to piss off, and maybe play some games.
                </p>
                <h3 data-toggle="tooltip" data-placement="left" title="no, fuck off">Can I join GAF?</h3>
                <p>
                    Short answer: <b>No</b><br>
                    Long answer: <b>Noooooooo</b><br>
                </p>
                <p>
                    GAF is not recruiting in the sense that you can apply and join, we don't do that. We're not an organised clan or group of any sorts, membership is based simply on <strike>how much you please the emperor</strike> who we feel like. If you want to come and hang out with us, join the Discord server. Everyone who's ever been in GAF started there and that's how it will always be done.
                </p>
                <!--
                <div id="myCarousel" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel" data-slide-to="1"></li>
                    </ol>
                    <div class="carousel-inner">
                        <div class="item active">
                            <img src="graphics/slide_show_images/destiny.jpg" alt="Destiny 2">
                            <div class="carousel-caption">
                                <a href="https://www.bungie.net/en/ClanV2/Chat?groupId=2118940">
                                    <h3>Destiny 2 Clan</h3>
                                </a>
                            </div>
                        </div>
                        <div class="item">
                            <img src="graphics/slide_show_images/arma.jpg" alt="Arma 3">
                            <div class="carousel-caption">
                                <a href="/arma/">
                                    <h3>Arma 3 Squad</h3>
                                    So sometimes play some casual milsim operations, learn more here
                                </a>
                            </div>
                        </div>
                    </div>
                    <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#myCarousel" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
                -->
                <h3>More Links</h3>
                <a href="http://discord.neverendinggaf.com">- Discord Server</a><br>
                <a href="http://steam.neverendinggaf.com">- Steam Group</a><br>
                <a href="http://steamcommunity.com/groups/publicgaf">- Public Steam Group</a><br>
                <a href="https://docs.google.com/spreadsheets/d/1PM_rfIb-ule9PTVjEhCSukG5zZZqgwzIFLkYEsXmmAw/edit?usp=sharing">- Current list of Steam Keys we have in our pool for giveaways or competition prizes</a><br>
                <a href="https://socialclub.rockstargames.com/crew/the_never_ending_gaf">- GTA V Crew</a><br>
                <a href="https://www.bungie.net/en/ClanV2/Chat?groupId=2118940">- Destiny 2 Clan</a><br>
                <a href="http://www.neverendinggaf.com/arma/">- Arma 3 Squad Information</a><br>
                <a href="ts3server://ts.neverendinggaf.com">- Teamspeak Server</a><br>
                <a href="discord_etiquette.html">- Good Discord Etiquette</a>
                
                <h3>Social Media</h3>
                <p>
                    DiNitride - <a style="color:#FF0000" href="https://www.youtube.com/channel/UC0-EDfY15DmAiIU-J5H4oxQ">YouTube</a> - <a style="color:#6441A4" href="https://www.twitch.tv/dinitride">Twitch</a><br>
                    Mr Bird Jesus - <a style="color:#FF0000" href="https://www.youtube.com/user/MrBirdJesus">YouTube</a> - <a style="color:#6441A4" href="https://www.twitch.tv/mrbirdjesus">Twitch</a><br>
                    Gol D. Roger - <a style="color:#FF0000" href="https://www.youtube.com/channel/UCad1gUliz37hUHxrsVt0mmQ">YouTube</a><br>
                    Hats - <a style="color:#FF0000" href="https://www.youtube.com/channel/UCkOkdJwzBdB0Ih0zV7p-qwQ"> YouTube</a><br>
                    Ivoh - <a style="color:#FF0000" href="https://www.youtube.com/channel/UCWBe-Fl177zv_pEKPlkA6Gg">YouTube</a><br>
                    Jesse - <a style="color:#6441A4" href="https://www.twitch.tv/jessecodnoob">Twitch</a><br>
                    lotoftoast - <a style="color:#FF0000" href="https://www.youtube.com/user/lotoftoast">YouTube</a> - <a style="color:#6441A4" href="https://www.twitch.tv/lotoftoast">Twitch</a><br>
                    Profound - <a style="color:#FF0000" href="https://www.youtube.com/user/ProfoundGame">YouTube</a> - <a style="color:#6441A4" href="https://www.twitch.tv/profoundgamesstream">Twitch</a>
                </p>
                
                <h3>Game Servers</h3>
                <p>
                    Whitelisted Minecraft Server - <code>mc.neverendinggaf.com</code><br>
                    Rust Server - <code>Coming soon</code><br>
                </p>
                
                <h3>Upcoming Events</h3>
                <table class="table table-condensed">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Channel</th>
                            <th>Start Time</th>
                            <th>End Time</th>
                        </tr>
                    </thead>
                    <tbody id="events">

                    </tbody>
                </table>
            </div>
            <div class="col-md-2">
            </div>
            
        </div>
        <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-8">
            </div>
            <div class="col-md-2"></div>
        </div>
        <div class="row">
            <div class="col-lg-2"></div>
            <div class="col-lg-8">
                <h1 align=center>The idiots of the group</h1>
                <table id="members" class="table">
                    <tbody>
                        <tr>
                            <td><a href="http://steamcommunity.com/id/DiNitride/">DiNitride</a></td>
                            <td>The Glorious Leader</td>
                        </tr>
                        <tr>
                            <td><a href="http://steamcommunity.com/id/MrBirdJesus/">Mr Bird Jesus</a></td>
                            <td>Idk he's a pigeon I guess</td>
                        </tr>
                        <tr>
                            <td><a href="http://steamcommunity.com/id/tacticalbryan/">Tactical Bryan</a></td>
                            <td>Mentally Middle Aged, Physically Middle Aged</td>
                        </tr>
                        <tr>
                            <td><a href="http://steamcommunity.com/profiles/76561198091915633/">Gol D Roger</a></td>
                            <td>The Head Slav</td>
                        </tr>
                        <tr>
                            <td><a href="http://steamcommunity.com/profiles/76561198053327431/">Tomalion</a></td>
                            <td>Quite literally so in love with DiNitride that he moved from Romania to the UK watch him in the shower</td>
                        </tr>
                        <tr>
                            <td><a href="http://steamcommunity.com/profiles/76561198279721822/">Faulty</a></td>
                            <td>Our Token Northerner</td>
                        </tr>
                        <tr>
                            <td><a href="http://www.ikea.com">Lou</a></td>
                            <td>The favorite Swede</td>
                        </tr>
                        <tr>
                            <td><a href="http://steamcommunity.com/profiles/76561198082927688/">Hats_</a></td>
                            <td>The Carponizer Carp Calendar King</td>
                        </tr>
                        <tr>
                            <td><a href="http://steamcommunity.com/profiles/76561198080310970">Lars</a></td>
                            <td>"Lars, you probably can't even spell DDOS", "Yeah I can, D, E.. wait no"</td>
                        </tr>
                        <tr>
                            <td><a href="http://steamcommunity.com/profiles/76561198070079658/">Rust</a></td>
                            <td>Rust is a systems programming language that runs blazingly fast, prevents segfaults, and guarantees thread safety.</td>
                        </tr>
                        <tr>
                            <td><a href="http://steamcommunity.com/profiles/76561198171318822/">Voltzlad</a></td>
                            <td>"Not everyone can do that, it's just that he's magic" - Voltz on the matter of DiNitride</td>
                        </tr>
                        <tr>
                            <td><a href="http://steamcommunity.com/profiles/76561198079801824/">Lotoftoast</a></td>
                            <td>Second-most virgin Pokemon Nerd in the server</td>
                        </tr>
                        <tr>
                            <td><a href="http://steamcommunity.com/profiles/76561198041110910">Evo</a></td>
                            <td>No one expects the dutch inquisition</td>
                        </tr>
                        <tr>
                            <td><a href="http://steamcommunity.com/id/mrdolf">Alto</a></td>
                            <td>The 2nd favorite Swede</td>
                        </tr>
                        <tr>
                            <td><a href="http://steamcommunity.com/profiles/76561198094563025/">Jesse</a></td>
                            <td>"Jesse sto-" "jesS-" "jessE I SAID STOP"</td>
                        </tr>
                        <tr>
                            <td><a href="http://steamcommunity.com/profiles/76561198039352461/">Profound</a></td>
                            <td>Bothers Small Anime Children</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-lg-2"></div>
        </div>
    </div>
    <script>
        
        var token_url_string = window.location.href
        var token_url = new URL(token_url_string);
        var token = token_url.searchParams.get("token")
        if (token != null) {
            console.log("Token from url " + token)
            localStorage.setItem("gaf_api_token", token)
        } else {
            console.log("No token in URL")
        }
        
        console.log("Getting token from Storage")
        token = localStorage.getItem("gaf_api_token")
        if (token != null) {
            console.log("User is authenticated with token " + token)
        } else {
            console.log("No token found, user is not authenticated")
        }
        
        $(document).ready(function(){
            $('[data-toggle="tooltip"]').tooltip(); 
        });

        let url = 'https://canary.discordapp.com/api/guilds/172425299559055381/widget.json';

        fetch(url)
        .then(res => res.json())
        .then((out) => {
            inVoice = 0;
            console.log(out);
            document.getElementById("memberCount").innerHTML = out["members"].length;
            for (i = 0; i < out["members"].length; i++) {
                if ("channel_id" in out["members"][i]) {
                    inVoice += 1;
                }
            }
            document.getElementById("voiceCount").innerHTML = inVoice;
        })
        .catch(err => { throw err });  

        fetch("http://www.neverendinggaf.com/api/v1/calendar/events")
        .then(res => res.json())
        .then((out) => {
            console.log(out)
            for (i = 0; i < out["events"].length; i++) {
                document.getElementById("events").innerHTML += "<tr><td>" + out["events"][i]["name"] + "</td><td>" + out["events"][i]["channel"] + "</td><td>" + out["events"][i]["startTime"] + "</td><td>" + out["events"][i]["endTime"] + "</td>"
            }
            
        })
        
    </script>
</body>
</html>
